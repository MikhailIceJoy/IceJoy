<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

       <changeSet id="1" author="user">
           <sql>
               CREATE  TABLE users (
               username VARCHAR(45) NOT NULL,
               password VARCHAR(45) NOT NULL,
               enabled TINYINT NOT NULL DEFAULT 1,
               PRIMARY KEY (username));
           </sql>
           <sql>
               CREATE TABLE user_roles (
               user_role_id int(10) NOT NULL AUTO_INCREMENT,
               username varchar(45) NOT NULL,
               role varchar(45) NOT NULL,
               PRIMARY KEY (user_role_id),
               UNIQUE KEY uni_username_role (role,username),
               KEY fk_username_idx (username),
               CONSTRAINT fk_username FOREIGN KEY (username) REFERENCES users (username));
           </sql>
           <sql>
               INSERT INTO users(username,password,enabled)
               VALUES ('admin','admin', true);
               INSERT INTO users(username,password,enabled)
               VALUES ('user','user', true);

               INSERT INTO user_roles (username, role)
               VALUES ('admin', 'ROLE_USER');
               INSERT INTO user_roles (username, role)
               VALUES ('admin', 'ROLE_ADMIN');
               INSERT INTO user_roles (username, role)
               VALUES ('user', 'ROLE_USER');
           </sql>
       </changeSet>
</databaseChangeLog>